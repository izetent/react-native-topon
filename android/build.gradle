buildscript {
  ext.getExtOrDefault = {name ->
    return rootProject.ext.has(name) ? rootProject.ext.get(name) : project.properties['Topon_' + name]
  }

  repositories {
    google()
    mavenCentral()
    maven { url "https://jfrog.anythinktech.com/artifactory/overseas_sdk" }
    maven { url "https://dl-maven-android.mintegral.com/repository/mbridge_android_sdk_oversea" }
    maven { url 'https://artifact.bytedance.com/repository/pangle' }
    maven { url "https://bitbucket.org/sdkcenter/sdkcenter/raw/release" }
  }

  dependencies {
    classpath "com.android.tools.build:gradle:8.7.2"
    // noinspection DifferentKotlinGradleVersion
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${getExtOrDefault('kotlinVersion')}"
  }
}


apply plugin: "com.android.library"
apply plugin: "kotlin-android"

apply plugin: "com.facebook.react"

def getExtOrIntegerDefault(name) {
  return rootProject.ext.has(name) ? rootProject.ext.get(name) : (project.properties["Topon_" + name]).toInteger()
}

android {
  namespace "com.topon"

  compileSdkVersion getExtOrIntegerDefault("compileSdkVersion")

  defaultConfig {
    minSdkVersion getExtOrIntegerDefault("minSdkVersion")
    targetSdkVersion getExtOrIntegerDefault("targetSdkVersion")
  }

  buildFeatures {
    buildConfig true
  }

  buildTypes {
    release {
      minifyEnabled false
    }
  }

  lintOptions {
    disable "GradleCompatible"
  }

  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }

  sourceSets {
    main {
      java.srcDirs += [
        "generated/java",
        "generated/jni"
      ]
    }
  }
}

repositories {
  mavenCentral()
  google()
  flatDir { dirs "$projectDir/libs" }
  maven { url "https://jfrog.anythinktech.com/artifactory/overseas_sdk" }
  maven { url "https://dl-maven-android.mintegral.com/repository/mbridge_android_sdk_oversea" }
  maven { url 'https://artifact.bytedance.com/repository/pangle' }
  maven { url "https://bitbucket.org/sdkcenter/sdkcenter/raw/release" }
}

def kotlin_version = getExtOrDefault("kotlinVersion")

dependencies {
  implementation "com.facebook.react:react-android"
  implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
  //Anythink (Necessary)
  implementation "com.anythink.sdk:core-tpn:6.5.10"
  implementation "com.anythink.sdk:nativead-tpn:6.5.10"
  implementation "com.anythink.sdk:banner-tpn:6.5.10"
  implementation "com.anythink.sdk:interstitial-tpn:6.5.10"
  implementation "com.anythink.sdk:rewardedvideo-tpn:6.5.10"
  implementation "com.anythink.sdk:splash-tpn:6.5.10"

  //Androidx (Necessary)
  implementation "androidx.appcompat:appcompat:1.6.1"
  implementation "androidx.browser:browser:1.4.0"

  //Vungle
  implementation "com.anythink.sdk:adapter-tpn-vungle:6.5.10"
  implementation "com.vungle:vungle-ads:7.5.0"
  implementation "com.google.android.gms:play-services-basement:18.1.0"
  implementation "com.google.android.gms:play-services-ads-identifier:18.0.1"

  //UnityAds
  implementation "com.anythink.sdk:adapter-tpn-unityads:6.5.10"
  implementation "com.unity3d.ads:unity-ads:4.14.0"


  //Bigo
  implementation "com.anythink.sdk:adapter-tpn-bigo:6.5.10"
  implementation "com.bigossp:bigo-ads:5.3.0"

  //Taurusx
  implementation "com.anythink.sdk:adapter-tpn-taurusx:6.5.10.2"
  implementation "com.taurusx.tax:ads:1.10.1"

  //Pangle
  implementation "com.anythink.sdk:adapter-tpn-pangle:6.5.10.3"
  implementation "com.pangle.global:pag-sdk:7.6.0.2"
  implementation "com.google.android.gms:play-services-ads-identifier:18.2.0"

  //Amazon
  implementation "com.anythink.sdk:adapter-tpn-amazon:6.5.10"
  implementation "com.amazon.android:aps-sdk:11.0.1"
  implementation "com.iabtcf:iabtcf-decoder:2.0.10"
  //Kwai
  implementation "com.anythink.sdk:adapter-tpn-kwai:6.5.10.2"
  implementation "io.github.kwainetwork:adApi:1.2.21"
  implementation "io.github.kwainetwork:adImpl:1.2.21"
  implementation "androidx.media3:media3-exoplayer:1.0.0-alpha01"
  implementation "androidx.appcompat:appcompat:1.6.1"
  implementation "com.google.android.material:material:1.2.1"
  implementation "androidx.annotation:annotation:1.2.0"
  implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.4.10"
  implementation "com.google.android.gms:play-services-ads-identifier:18.0.1"

  //Facebook
  implementation "com.anythink.sdk:adapter-tpn-facebook:6.5.10"
  implementation "com.facebook.android:audience-network-sdk:6.20.0"
  implementation "androidx.annotation:annotation:1.0.0"

  //Admob
  implementation "com.anythink.sdk:adapter-tpn-admob:6.5.10"
  implementation "com.google.android.gms:play-services-ads:24.4.0"

  //AppLovin
  implementation "com.anythink.sdk:adapter-tpn-applovin:6.5.10"
  implementation "com.applovin:applovin-sdk:13.3.1"

  //Mintegral
  implementation "com.anythink.sdk:adapter-tpn-mintegral:6.5.10"
  implementation "com.mbridge.msdk.oversea:mbridge_android_sdk:16.9.71"
  implementation "androidx.recyclerview:recyclerview:1.1.0"

  //Yandex
  implementation "com.anythink.sdk:adapter-tpn-yandex:6.5.10"
  implementation "com.yandex.android:mobileads:7.12.2"

  //Fyber
  implementation "com.anythink.sdk:adapter-tpn-fyber:6.5.10"
  implementation "com.fyber:marketplace-sdk:8.3.7"
  implementation "com.google.android.gms:play-services-ads-identifier:18.0.1"
  
  //Tramini
  implementation "com.anythink.sdk:tramini-plugin-tpn:6.5.10"
}
